<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Dly Blog</title>
    <description>关于程序与设计 | 柳燕，Software Engineer</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Fri, 14 Jun 2019 16:50:57 +0800</pubDate>
    <lastBuildDate>Fri, 14 Jun 2019 16:50:57 +0800</lastBuildDate>
    <generator>Jekyll v3.8.5</generator>
    
      <item>
        <title>Vim</title>
        <description>&lt;blockquote&gt;
  &lt;p&gt;“这只是基础篇，后续有空再加进阶篇吧”&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;首先编辑vimrc，一般编辑用户级vimrc进行vim通用设置，再介绍了vim的一些基础命令及知识。
一般可在命令模式下使用help命令查看.&lt;/p&gt;

&lt;h4 id=&quot;vimrc&quot;&gt;vimrc&lt;/h4&gt;

&lt;p&gt;vim ~/.vimrc&lt;/p&gt;

&lt;div class=&quot;language-vim highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c&quot;&gt;&quot; you can add vim config here&lt;/span&gt;
syntax enable
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; background&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;dark&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;colorscheme&lt;/span&gt; solarized
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; nocompatible
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;number&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; ruler
&lt;span class=&quot;c&quot;&gt;&quot; highlight search matches&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; hlsearch
&lt;span class=&quot;c&quot;&gt;&quot; enable incremental searching&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; incsearch
&lt;span class=&quot;c&quot;&gt;&quot; set ignorecase when searching&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; ignorecase
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; smartcase
&lt;span class=&quot;c&quot;&gt;&quot; turn on file backups&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; backup
&lt;span class=&quot;c&quot;&gt;&quot; don't line wrap mid-word&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; lbr
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; autoindent
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; smartindent
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; expandtab
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; smartindent
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; shiftwidth&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; tabstop&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;&quot; display the incomplete commands in the bottom right-side screen&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; showcmd
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; wildmenu
&lt;span class=&quot;c&quot;&gt;&quot; set shortcut key&lt;/span&gt;
map &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;F3&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;span class=&quot;p&quot;&gt;&amp;gt;&amp;lt;&lt;/span&gt;CR&lt;span class=&quot;p&quot;&gt;&amp;gt;&amp;lt;&lt;/span&gt;space&lt;span class=&quot;p&quot;&gt;&amp;gt;&amp;lt;&lt;/span&gt;space&lt;span class=&quot;p&quot;&gt;&amp;gt;&amp;lt;&lt;/span&gt;li&lt;span class=&quot;p&quot;&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/li&amp;gt;&amp;lt;CR&amp;gt;&amp;lt;Esc&amp;gt;I&amp;lt;/&lt;/span&gt;ul&lt;span class=&quot;p&quot;&gt;&amp;gt;&amp;lt;&lt;/span&gt;Esc&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;Kcit
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;四种模式&quot;&gt;四种模式&lt;/h4&gt;

&lt;p&gt;简单模式&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;移查删改
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;可视化模式&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;对整块区域进行操作，如整体注释
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;插入模式&lt;/p&gt;

&lt;p&gt;命令模式&lt;/p&gt;

&lt;h4 id=&quot;常用命令&quot;&gt;常用命令&lt;/h4&gt;
&lt;h5 id=&quot;复制粘贴删除&quot;&gt;复制粘贴删除&lt;/h5&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;dd：剪切当前行，delete
ndd：n表示大于1的数字，剪切n行 
d$：从当前光标剪切到行末 
d0：从当前光标位置（不包括光标位置）剪切之行首
dw: 删除一个单词
yy：复制当前行,yank
p/P:粘贴在光标后／前，paste或者put
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h5 id=&quot;跳转&quot;&gt;跳转&lt;/h5&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;w/W:  跳转单词首字母，word
b/B: 反跳转，backward
e/E: 跳转单词最后一个字母，end
ge： 反跳转单词最后一个字母

NG → 到第 N 行 （陈皓注：注意命令中的G是大写的，另我一般使用 : N 到第N行，如 :137 到第137行） 
gg → 到第一行。（陈皓注：相当于1G，或 :1） 
G → 到最后一行。
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h5 id=&quot;查找&quot;&gt;查找&lt;/h5&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;/{char}：命令行查找
dt{char}:删除光标与查找字符间的字符
F/f{char}:反向／正向查找单个字符
t{char}：查找字符的前一个字符

% : 匹配括号移动，包括 (, {, [. （你需要把光标先移到括号上） 
\* 和 #:  匹配光标当前所在的单词，移动光标到下一个（或上一个）匹配单词（*是下一个，#是上一个） ##### 替换
s/go/roll/g:当前行所有go替换成roll
%s/go/roll/g:所有go替换成roll
shift+r/R:替换模式
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h5 id=&quot;缩进&quot;&gt;缩进&lt;/h5&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;:3,231&amp;gt; : 第3行到第231行缩进
&amp;lt;反缩进
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h5 id=&quot;注释&quot;&gt;注释&lt;/h5&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;多行注释： 
\1. 进入命令行模式，按ctrl + v进入 visual block模式（可视快模式），然后按j, 或者k选中多行，把需要注释的行标记起来 
\2. 按大写字母i，再插入注释符，例如// 
\3. 按esc键就会全部注释了（我的是按两下） 
取消多行注释： 
\1. 进入命令行模式，按ctrl + v进入 visual block模式（可视快模式），按小写字母L横向选中列的个数，例如 // 需要选中2列 
\2. 按字母j，或者k选中注释符号 
\3. 按d键就可全部取消注释 
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h5 id=&quot;寄存器&quot;&gt;寄存器&lt;/h5&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;:reg 查看寄存器
无名寄存器：最后一条指令
数字寄存器：缓存最近10次，0是复制专用
有名寄存器：&quot;ayy，复制这一行内容存入a寄存器
黑洞寄存器
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</description>
        <pubDate>Thu, 05 Jul 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/07/05/vim/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/07/05/vim/</guid>
        
        <category>ENV</category>
        
        <category>Skill</category>
        
        
      </item>
    
      <item>
        <title>Nginx</title>
        <description>&lt;p&gt;介绍nginx一些知识点，最后给出实战例子；&lt;/p&gt;

&lt;h4 id=&quot;nginx简单使用&quot;&gt;nginx简单使用&lt;/h4&gt;

&lt;p&gt;修改配置文件nginx.conf；&lt;/p&gt;

&lt;p&gt;nginx -s reload 重新加载(Nginx热部署)&lt;/p&gt;

&lt;p&gt;nginx -t检查配置&lt;/p&gt;

&lt;p&gt;nginx -s stop&lt;/p&gt;

&lt;h4 id=&quot;正向代理与反向代理&quot;&gt;正向代理与反向代理&lt;/h4&gt;

&lt;p&gt;nginx,经常被提及反向代理服务器功能。&lt;/p&gt;

&lt;p&gt;由于防火墙的原因，我们并不能直接访问谷歌，那么我们可以借助VPN来实现，这就是一个简单的正向代理的例子。这里你能够发现，正向代理“代理”的是客户端，而且客户端是知道目标的，而目标是不知道客户端是通过VPN访问的。&lt;/p&gt;

&lt;p&gt;当我们在外网访问百度的时候，其实会进行一个转发，代理到内网去，这就是所谓的反向代理，即反向代理“代理”的是服务器端，而且这一个过程对于客户端而言是透明的。&lt;/p&gt;

&lt;p&gt;当我们访问web时候，前端会通过nginx 反向代理到后端服务器，并将请求结果返回给前端，前端返回给用户。这就是反向代理。&lt;/p&gt;

&lt;h4 id=&quot;其他功能&quot;&gt;其他功能&lt;/h4&gt;

&lt;p&gt;负载均衡【upstream】&lt;/p&gt;

&lt;p&gt;缓存，可以加快访问速度的机制，说白了，在配置上就是一个开启，同时指定目录，让缓存可以存储到磁盘上。&lt;/p&gt;

&lt;h4 id=&quot;example&quot;&gt;Example&lt;/h4&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;
&lt;span class=&quot;c&quot;&gt;#失败重试机制设置,当upstream里第一台server出现502，自动转入第二台；&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#使用uwsgi时不需要设置&lt;/span&gt;
proxy_next_upstream http_502&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#nginx请求后台的超时时间，若是后台某个服务处理时间超过60s,则uwsgi关闭连接，返回超时，但是后台仍将请求执行结束；&lt;/span&gt;
uwsgi_read_timeout 60&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#uwsgi失败重试机制设置,当upstream里第一台server出现error，自动转入第二台；&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#默认为uwsgi_next_upstream error timeout；&lt;/span&gt;
uwsgi_next_upstream error&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#配置后台服务器，默认第一台执行&lt;/span&gt;
upstream lims_ext_uwsgi &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$SERVER1&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$SERVER2&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#配置log路径&lt;/span&gt;
access_log  /var/log/nginx/SchoolBuy_access.log&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
error_log   /var/log/nginx/SchoolBuy_error.log&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#配置80端口，http,进入前端界面&lt;/span&gt;
server &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    listen 80&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    server_name proxy&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# rewrite ^(.*) https://$PROXY\$1 permanent;&lt;/span&gt;
    location / &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        root /usr/share/nginx/html&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#配置443端口，https，进入后台https请求，uwsgi_pass至后台服务；&lt;/span&gt;
server &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    listen 443 ssl default&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    server_name proxy&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    ssl_certificate /etc/nginx/nginx.crt&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    ssl_certificate_key /etc/nginx/nginx.key&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    ssl_protocols TLSv1 TLSv1.1 TLSv1.2&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    ssl_ciphers &lt;span class=&quot;s2&quot;&gt;&quot;HIGH:!aNULL:!MD5 or HIGH:!aNULL:!MD5:!3DES&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    ssl_prefer_server_ciphers on&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    charset utf-8&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;#最大上传200M文件&lt;/span&gt;
    client_max_body_size 200M&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    location /static &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        root /usr/share/nginx/html&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    location / &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;#设置跨域&lt;/span&gt;
        &lt;span class=&quot;nb&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\$&lt;/span&gt;cors &lt;span class=&quot;s2&quot;&gt;&quot;allow&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\$&lt;/span&gt;request_method &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;OPTIONS&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nb&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\$&lt;/span&gt;cors &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\$&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;{cors}options&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\$&lt;/span&gt;cors &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;allowoptions&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            add_header &lt;span class=&quot;s1&quot;&gt;'Access-Control-Allow-Origin'&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\$&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;http_origin&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            add_header &lt;span class=&quot;s1&quot;&gt;'Access-Control-Allow-Credentials'&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;true&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            add_header &lt;span class=&quot;s1&quot;&gt;'Access-Control-Max-Age'&lt;/span&gt; 86400&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            add_header &lt;span class=&quot;s1&quot;&gt;'Access-Control-Allow-Methods'&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'GET, POST, OPTIONS, DELETE'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            add_header &lt;span class=&quot;s1&quot;&gt;'Access-Control-Allow-Headers'&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'reqid, nid, host, x-real-ip, x-forwarded-ip, event-type, event-id, accept, content-type'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            add_header &lt;span class=&quot;s1&quot;&gt;'Content-Length'&lt;/span&gt; 0&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            add_header &lt;span class=&quot;s1&quot;&gt;'Content-Type'&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'text/plain, charset=utf-8'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return &lt;/span&gt;200&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        
        &lt;span class=&quot;c&quot;&gt;#nginx设置当前服务器为代理服务器，支持uwsgi协议，向后台请求&lt;/span&gt;
        uwsgi_pass uwsgi_backend_server&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        include     /etc/nginx/conf/uwsgi_params&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;c&quot;&gt;#Proxy Settings，配置了uwsgi可不用&lt;/span&gt;
        proxy_redirect off&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        proxy_set_header Host &lt;span class=&quot;se&quot;&gt;\$&lt;/span&gt;host&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        proxy_set_header X-Real-IP &lt;span class=&quot;se&quot;&gt;\$&lt;/span&gt;remote_addr&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        proxy_set_header X-Forwarded-For &lt;span class=&quot;se&quot;&gt;\$&lt;/span&gt;proxy_add_x_forwarded_for&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        proxy_next_upstream error &lt;span class=&quot;nb&quot;&gt;timeout &lt;/span&gt;invalid_header http_500 http_502 http_503 http_504&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        proxy_max_temp_file_size 0&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        proxy_connect_timeout 90&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        proxy_send_timeout 90&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        proxy_read_timeout 90&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        proxy_buffer_size 4k&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        proxy_buffers 4 32k&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        proxy_busy_buffers_size 64k&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        proxy_temp_file_write_size 64k&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;当后台服务超时，uwsgi关闭与nginx连接时，会自动向第二个后台发送请求，这就导致了一个请求，两次运行，设置uwsgi_next_upstream error(默认uwsgi_next_upstream error timeout)，这样超时后就不会再向第二个后台发送请求。&lt;/p&gt;
</description>
        <pubDate>Sun, 24 Jun 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/06/24/nginx/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/06/24/nginx/</guid>
        
        <category>ENV</category>
        
        <category>Skill</category>
        
        
      </item>
    
      <item>
        <title>work experience ppts</title>
        <description>&lt;p&gt;I want to list my work ppts in recent two years.
those ppts is just for letting teammates know about some skills that i know,so  they are not formal.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;jenkins&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;/assets/ppts/jenkins.key&quot;&gt;jenkins.key&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;elasticsearch&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;/assets/ppts/elasticsearch.pptx&quot;&gt;elasticsearch.pptx&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;wechat littleprogram&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;/assets/ppts/littleprogram.pptx&quot;&gt;littleprogram.pptx&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;airflow&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;/assets/ppts/jenkins-airflow.ppt&quot;&gt;jenkins-airflow.ppt&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;jmeter&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;/assets/ppts/jmeter.pptx&quot;&gt;jmeter.pptx&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;面向高级编程&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;/assets/ppts/ 面向对象高级编程.pptx&quot;&gt; 面向对象高级编程.pptx&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;敏捷开发&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;/assets/ppts/敏捷开发.ppt&quot;&gt;敏捷开发.ppt&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;django&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;/assets/ppts/Django.pptx&quot;&gt;Django.pptx&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;software requirement&lt;/p&gt;

    &lt;p&gt;&lt;a href=&quot;/assets/ppts/software requirement.pptx&quot;&gt;software requirement.pptx&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Thu, 07 Jun 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/06/07/work-ppts/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/06/07/work-ppts/</guid>
        
        <category>Experience</category>
        
        
      </item>
    
      <item>
        <title>manage multiple ssh-keys</title>
        <description>&lt;h4 id=&quot;environment-config&quot;&gt;Environment config&lt;/h4&gt;

&lt;p&gt;when you start your work environment,manage mutilple ssh keys is important just like keep your home key safe,using mutilple ssh keys to match different systems,such as gitlab,github,personal keys,work keys.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;... .ssh]&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;ssh-keygen &lt;span class=&quot;nt&quot;&gt;-t&lt;/span&gt; rsa &lt;span class=&quot;nt&quot;&gt;-C&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;usbmount@geneftp2.nextcode.pharmatechs.com&quot;&lt;/span&gt;
Generating public/private rsa key pair.
Enter file &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;which to save the key &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;/home/usbmount/.ssh/id_rsa&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;: id_rsa_gitlab
Enter passphrase &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;empty &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;no passphrase&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:
Enter same passphrase again:
Your identification has been saved &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;id_rsa_gitlab.
Your public key has been saved &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;id_rsa_gitlab.pub.
The key fingerprint is:
3a:fe:c4:1c:48:af:2a:f1:a1:fb:94:21:b6:c1:23:54 usbmount@geneftp2.nextcode.pharmatechs.com
The key&lt;span class=&quot;s1&quot;&gt;''&lt;/span&gt;s randomart image is:
+--[ RSA 2048]----+
|   E             |

▽
&lt;span class=&quot;c&quot;&gt;# gitlab&lt;/span&gt;
|  &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;              |
| &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;    &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;          |
|..   &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; o         |
|. &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; S        |
| o.&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;.o &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;       |
|  .+o.+ +        |
|  o..o o         |
|  .+o ...        |
+-----------------+


&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;... .ssh]&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;ssh-add id_rsa_gitlab
Identity added: id_rsa_gitlab &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;id_rsa_gitlab&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;... .ssh]&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;vim config
&lt;span class=&quot;c&quot;&gt;# gitlab&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;#HOST can use regular expression&lt;/span&gt;
  HOST gitlab.&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;#HostName must match the Host regular expression,and without port&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;#if the host is ip address,you need add a &amp;lt;Port&amp;gt; param&lt;/span&gt;
  HostName gitlab.nextcode.pharmatechs.com
  &lt;span class=&quot;c&quot;&gt;#the prefer ssh auth mode&lt;/span&gt;
  PreferredAuthentications publickey
  IdentityFile ~/.ssh/id_rsa_gitlab
  User genetfp2

&lt;span class=&quot;c&quot;&gt;#github&lt;/span&gt;
  Host github
  HostName github.com
  IdentityFile ~/.ssh/id_rsa_github

&lt;span class=&quot;c&quot;&gt;#if there are many ssh keys,you are suggested to add the follow config to let password first,&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#because if ssh keys first,and match the all above keys failed,the auth times may be&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#greater than auth max-time,and then you cannot use password auth any more.&lt;/span&gt;
   Host &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;
   PubkeyAuthentication no
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;if you want add another,just do it again.&lt;/p&gt;
</description>
        <pubDate>Thu, 17 May 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/05/17/sshs/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/05/17/sshs/</guid>
        
        <category>ENV</category>
        
        <category>Skill</category>
        
        
      </item>
    
      <item>
        <title>Fix git push error in pycharm or other IDE</title>
        <description>&lt;h4 id=&quot;the-error-detail&quot;&gt;The error detail:&lt;/h4&gt;
&lt;p&gt;you can git add,commit,push in terminal,but cannot push with IDE,the error info is &lt;code class=&quot;highlighter-rouge&quot;&gt;Could not read from remote repository&lt;/code&gt;;&lt;/p&gt;

&lt;h4 id=&quot;fix&quot;&gt;Fix:&lt;/h4&gt;
&lt;p&gt;open &lt;code class=&quot;highlighter-rouge&quot;&gt;Preference&lt;/code&gt; -&amp;gt; open &lt;code class=&quot;highlighter-rouge&quot;&gt;Version Control&lt;/code&gt; -&amp;gt; click &lt;code class=&quot;highlighter-rouge&quot;&gt;git&lt;/code&gt; -&amp;gt; select &lt;code class=&quot;highlighter-rouge&quot;&gt;SSH execute&lt;/code&gt; to &lt;code class=&quot;highlighter-rouge&quot;&gt;Native&lt;/code&gt;.&lt;/p&gt;
</description>
        <pubDate>Mon, 14 May 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/05/14/git-error/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/05/14/git-error/</guid>
        
        <category>ENV</category>
        
        <category>Skill</category>
        
        
      </item>
    
      <item>
        <title>Install jekyll</title>
        <description>&lt;p&gt;Start my blog；&lt;/p&gt;
&lt;h4 id=&quot;install-rvm&quot;&gt;Install RVM&lt;/h4&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;curl &lt;span class=&quot;nt&quot;&gt;-sSL&lt;/span&gt; https://get.rvm.io | bash &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; stable
rvm list known
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h4 id=&quot;rvm-install-ruby&quot;&gt;rvm install ruby&lt;/h4&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;rvm &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;ruby-2.4.1
rvm use ruby-2.4.1
rvm &lt;span class=&quot;nt&quot;&gt;--default&lt;/span&gt; use 2.4.1
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h4 id=&quot;install-jekyll&quot;&gt;install jekyll&lt;/h4&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;gem sources &lt;span class=&quot;nt&quot;&gt;--add&lt;/span&gt; https://gems.ruby-china.com/
gem &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;jekyll
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h4 id=&quot;jekyll-run-with-draft-visible&quot;&gt;jekyll run with draft visible&lt;/h4&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll serve --draft&lt;/code&gt;&lt;/p&gt;

&lt;h4 id=&quot;run&quot;&gt;Run&lt;/h4&gt;
&lt;p&gt;create jekyll project,and then add gem theme in Gemfile&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;bundle &lt;span class=&quot;nb&quot;&gt;install
&lt;/span&gt;bundle &lt;span class=&quot;nb&quot;&gt;exec &lt;/span&gt;jekyll serve
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h4 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h4&gt;

&lt;p&gt;let’s start。&lt;/p&gt;
</description>
        <pubDate>Sun, 13 May 2018 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/05/13/install-jekyll/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/05/13/install-jekyll/</guid>
        
        <category>Blog</category>
        
        
      </item>
    
  </channel>
</rss>
